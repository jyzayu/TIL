차세대 인터넷 프로토콜의 필요성
### IPv4
• 장점 : 간단한 구조, 확장성

• 주소 공간 문제
- IP 사용 증가 : 기존 컴퓨터 시스템, 이동전화, 정보 가전기기와 같은 일상 생활에서 사용되는 모든 기기들이 네트워크에 연결
- IP 주소 공간의 확장 논란

• IPv4의 단점 : 보안성 결여, 신뢰성 결여, 사용자의 서비스 질 요구에 대한 지원 불가

### IPv6
• IETF에서는 차세대 인터넷 프로토콜로 IPv6(Internet Protocol version 6) 혹은
IPng(Internet Protocol Next Generation)을 제정함

 IPv6의 장점
(1) 확장된 주소 공간

• IPv4의 주소는 32비트이기 때문에 주소 고갈 발생

• IPv6의 주소는 128비트로 충분한 주소 공간 확보

(2) 헤더 형식의 개선

• IPv4는 옵션으로 헤더의 길이가 서로 다름 → IPv6은 옵션 필드를 기본 헤드에서 분리

• 간소화 된 40바이트 동일한 길이의 헤더로 라우팅 과정이 단순해지고 데이터 그램을 더 빠르게 처리할 수 있음

(3) 자원 할당에 대한 지원

• IPv4는 최선형의 서비스만 제공 → IPv6은 흐름 라벨(Flow Label)을 통하여 사용자 서비스의 질(QoS)에 대한 요구를 충족시킬 수 있음

(4) 향상된 보안성 지원

• IPv6은 암호화와 인증 옵션 등의 추가로 인해 패킷 전송의 신뢰성을 향상시킴

(5) IPv6 패킷의 헤더 형식

![image](https://github.com/jyzayu/TIL/assets/55649979/18e2f372-fe26-44bf-87b0-d95b1e6c0402)

### IPv4와 IPv6 헤더의 비교
• IPv6에서 헤더 길이 고정 → 헤더 길이 필드 제거

• IPv6에서 서비스 타입 필드 제거 → 우선순위와 흐름 레이블 필드가 대신함

• 패킷 총 길이 필드가 IPv6에서 제거, 페이로드 길이 필드로 대체

• 식별(identification), 플래그(flag), 옵셋(offset) 필드 제거 (이 필드는 단편화 확장 헤더에 포함)

• TTL 필드 홉 제한(Hop Limit)로 변경 – 기능은 동일

• 프로토콜 필드 → 다음 헤더 필드로 대치

• 헤더 검사(checksum)가 상위 계층 프로토콜에서 수행됨으로 제거

• 옵션 필드가 확장 헤더로 바뀜

 ### IPv4에서 IPv6로의 천이 문제
• 사물 인터넷의 활성화 및 인터넷 사용자의 지속적인 증가로 IPv4의 주소 부족 예상

• IPv4의 모든 라우터를 동시에 IPv6로 지원하도록 업그레이드하는 것은 불가능

• IPv4에서 IPv6로 천이하는 두가지 방안

① 터널링 방식
- IPv4 라우터 사이에서 IPv6가 IPv4 데이터그램 안의 payload로 취급
![image](https://github.com/jyzayu/TIL/assets/55649979/77c80dd2-99b0-4b5c-8913-1fd7278a6c2d)

② 이중 스택(Dual Stack) 방식
- 모든 라우터가 IPv4, IPv6 두 개의 스택을 가진 라우터를 동시에 지원
![image](https://github.com/jyzayu/TIL/assets/55649979/0a0c7089-3c9d-43cb-a058-5180849fbfcc)



