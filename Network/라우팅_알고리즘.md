### 라우팅의 정의
• 패킷을 전송할 때 소스 호스트에서 목적지 호스트까지 최적의 전송 경로(path)를
설정하고 패킷을 선택된 경로를 따라 순방향(forwarding) 전송하는 일련의 과정
• 라우팅 기능은 제 3계층인 네트워크 계층의 핵심적인 기능
### < 라우팅 알고리즘의 필요성
• 여러 서로 다른 기종의 네트워크를 통하여 데이터를 전송하기 위해 매우 중요
• 노드와 노드를 연결하는데 필요한 경비(cost)를 최소화하는 경로를 택하기 위해
종단 간의 경로를 계산하는 절차인 라우팅 알고리즘이 필요

### 라우팅 경로 설정할 때 필요한 설정 기준(metric)
• 라우팅 알고리즘마다 서로 다른 기준 사용
• 일반적으로 홉(hop)의 수, 지연(delay), 대역폭(bandwidth) 등을 사용
### < 라우터
• 서로 다른 네트워크가 연결되어 있는 네트워크로부터 패킷을 수신하여 목적지로 향하는
다른 라우터로 패킷을 순방향 전송하는 기능
• 서로 다른 랜(LAN)을 연결하는데 사용되는 네트워크 장비
• 소스 호스트에서 전송된 패킷은 목적지 호스트에 도달할 때까지 여러 라우터를 거침
• 라우터에서 패킷을 전송할 때 라우팅 알고리즘을 통해 얻은 라우팅 테이블을 참조하여
패킷을 해당 네트워크로 향하는 출력 포트로 전송

### 라우팅 알고리즘
### 거리벡터(Distance Vector) 알고리즘
• 직접 연결된 이웃 라우터들끼리 자신의 라우팅 정보를 주기적으로 교환
• 각 라우터는 교환된 라우팅 정보를 사용하여 라우팅 테이블을 작성하여 사용
• 최종 목적지까지의 경로는 제공하지 않으나, 목적지까지 최소 비용을 제공
• 노드 혹은 링크 비용이 변경되면 주기적으로 이웃 노드와 자신의 라우팅 테이블을 교환
• 홉 수가 적은 소규모 네트워크에 적합
• 네트워크의 거리(distance) 값에 대한 정보만 저장하기 때문에 적은 메모리 사용
• 일정 시간마다 주기적으로 라우팅 정보를 전송하기 때문에 많은 네트워크 트래픽 발생

### 링크 상태(Link State) 알고리즘
• 모든 노드들이 네트워크 전체 정보(토폴로지 정보, 링크 비용 정보)를 가지고
라우팅 테이블을 만듦
• 다익스트라(Dijkstra) 알고리즘을 사용하여 라우팅 테이블 작성
• 네트워크 상태의 변화(노드, 링크 비용 변화 등)가 생길 때마다 노드들은
라우팅 정보를 브로드캐스팅으로 전송
• 규모가 큰 네트워크에 적합

### 라우팅 방식
• 유니캐스트(unicast) 전송
일대일 전송(하나의 소스 노드에서 하나의 목적지
노드까지 전송)
• 브로드캐스드(broadcast) 전송
일대 불특정 다수 전송. 라우터에서 정보를 수신한
포트 이외의 모든 포트로 모든 노드에게 전송하는 것
• 멀티캐스트(multicast) 전송
일대 특정 다수 전송
• 애니캐스트(anycast) 전송
하나의 소스로부터 네트워크 잠재적 수신자 그룹
안에서 가장 가까운 노드로 전송하는 방식

### 인터넷 연결
• 인터넷은 전 세계에 분포된 많은 라우터에 의해
연결되어 있고, 하나의 라우팅 프로토콜을 사용
하여 라우팅 테이블을 갱신하는 일이 매우 어렵기
때문에 여러 자율 시스템(Autonomous
System : AS)로 나누어 실행
• 여러 자율 시스템으로 구성
AS (Autonomous System)
여러 라우터들이 집합체로 묶여 하나의 관리자에게 운영·관리되며, 동일한 라우팅 정책을 사용하는 네트워크 그룹

### 인터넷 라우팅 프로토콜 종류
![image](https://github.com/jyzayu/TIL/assets/55649979/63ad4e72-9b72-4912-b2d3-1176939a7d18)

### 내부 게이트웨이 라우팅(Intra AS Routing) 프로토콜
• 자율 시스템 내에서의 라우팅 프로토콜
• AS 내의 모든 라우터는 동일한 내부 게이트웨이 라우팅 프로토콜을 사용
• 종류
- 라우팅 정보 프로토콜(Routing Information Protocol: RIP)
- OSPF(Open Shortest Path First) 라우팅 프로토콜

###  RIP(Routing Information Protocol)
• 가장 적은 수의 라우터를 경유하는 경로(가장 적은 홉 수를 가지는 경로)를 택함
• 비교적 중·소규모의 네트워크에 적합(홉 수는 최대 15)
• 인접한 라우터들끼리 라우팅 정보를 주고 받은 후에 경로를 설정
• 네트워크에 변화가 생겼을 때 즉시 라우팅 경로 갱신에 반영하지 못하므로, 특정
경로에 루프가 생길 수 있는 문제점을 가짐

### OSPF(Open Shortest Path First)
• 모든 라우터들이 동일한 라우팅 정보를 가지고 경로를 설정
• 새로운 라우팅 정보를 얻으면(= 네트워크에 변화) 모든 라우터에게 방송
(브로드캐스트)하여 전송하여 신속하게 라우팅 정보(구성 정보, 연결 정보, 링크 값 등) 를 갱신할 수 있음
• 현재 인터넷에서 가장 많이 사용

### 외부 라우팅(Inter AS Routing) 프로토콜
• 자율 시스템(AS)과 자율 시스템(AS) 간의 라우팅 프로토콜
• 거의 대부분 BGP(Border Gateway Protocol) 프로토콜을 사용
![image](https://github.com/jyzayu/TIL/assets/55649979/b52169a6-4667-4b2b-801c-7fd803e1200a)

### BGP(Border Gateway Protocol)
인트라-AS 프로토콜과
인터-AS 프로토콜을 통한 패킷의 전송
게이트웨이 라우터 • AS와 AS간 라우팅에 사용
• 자율 경계 라우터(혹은 게이트웨이 라우터) 간에 정보를
주고 받음
• 경로 벡터 라우팅 사용 : 라우팅 테이블의 각 항목은 목적
지 네트워크, 다음 라우터와 목적지까지의 경로를 포함
• RIP나 OSPF 라우팅 알고리즘은 최소 경비를 가지는 경로
를 우선 선택하지만, BGP에서는 관리자의 정책(Policy)
를 우선으로 생각
