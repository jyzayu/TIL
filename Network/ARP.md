### 주소변환 프로토콜(Address Resolution Protocol : ARP)
![image](https://github.com/jyzayu/TIL/assets/55649979/9d71baaf-773d-4d1c-9488-584397f21f12)

• IP 데이터그램은 IP 주소를 이용하여 목적지 호스트까지 전송

• 목적지 호스트는 물리적 인터페이스에 의해 접속

• 물리적 주소(랜 주소, MAC 주소) : 48비트로 이루어짐

• 목적지 호스트에 전달되기 위해 데이터그램에 있는 32비트의 IP주소와
48비트의 목적지 호스트 물리 주소가 동시에 필요

• 32비트의 IP 주소를 가지는 목적지 호스트와 매칭시켜 주는 프로토콜을
주소 변환 프로토콜이라고 함
### 주소변환 프로토콜(Address Resolution Protocol : ARP)
![image](https://github.com/jyzayu/TIL/assets/55649979/c5e65760-1cd1-486f-9916-ffaa90a9adf0)
• 하나의 호스트는 인터넷 상에서 사용되어 식별할 수 있는 IP 주소와 실제
그 호스트가 LAN 내에서 연결되는 물리 주소를 동시에 가지고 있음

### 주소변환 프로토콜(Address Resolution Protocol : ARP)
• 각각의 호스트는 IP 주소와 물리 주소쌍을 가지는 주소변환 테이블(<IP주소, 물리주소> 쌍의 엔트리로 구성)을 가짐
![image](https://github.com/jyzayu/TIL/assets/55649979/07448f63-3f6b-4fe3-b8e2-8cd3890d1728)

 ARP 프로토콜은 IP 주소는 알고 있으나 MAC 주소를 모를 때 사용

 RARP 프로토콜은 MAC 주소는 알고 있으나 IP 주소를 모를 때 사용

 IP 주소는 32 비트이고, MAC 주소는 48비트의 서로 다른 주소 체제를 가지므로 주소를 변환하는 방법이 필요

### ARP와 RARP의 동작 방식
ARP의 목적은 네트워크 상의 각 호스트가 IP 주소와 데이터링크 계층의
물리 주소 사이의 대응을 테이블로 구성할 수 있도록 하는 데 있음

① 소스 호스트가 목적지 호스트로 데이터그램을 보냄
(목적지 호스트의 IP 주소를 알지만, 그에 대응하는 물리 주소를 모를 때는 먼저 자신의 ARP 테이블을 검사)

② 만약 자신의 ARP 테이블에 대응되는 엔트리가 없을 때 ARP 프로토콜을 호출
이 때 네트워크 전체로 ARP 요청을 브로드캐스트로 전송

③ 이 요청을 받은 각 호스트는 요청된 IP 주소가 자신의 주소와 일치하면 자신의 물리 주소를 포함한
응답 신호를 요청한 호스트로 전송

④ 응답을 받은 호스트는 응답 메시지에 포함된 정보를 자신의 ARP 테이블에 저장하여 다음 필요할 때 사용

물리 주소는 알고 있으나 이에 대응하는 IP 주소를 모를 때에는 RARP(Reverse Address Resolution Protocol) 사용
